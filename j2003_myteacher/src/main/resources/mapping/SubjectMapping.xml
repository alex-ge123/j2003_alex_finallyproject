<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qianfeng.j2003.mapper.SubjectMapper">
    <resultMap id="subjectMap" type="com.qianfeng.j2003.vo.SubjectVo">
      <id property="sub_id" column="sub_id"/>
        <result property="imgurl" column="sub_imgurl"></result>
        <result property="miaoshu" column="sub_miaoshu"></result>
        <result property="price" column="sub_price"></result>
        <result property="status" column="show_status1"></result>
        <result property="time" column="sub_time"></result>
        <result property="startLiveTime" column="startlivetime"></result>
    </resultMap>

    <sql id="subjectColum">
       sub_id ,sub_imgurl,sub_miaoshu,sub_price,show_status1,sub_time,startlivetime
    </sql>
    <select id="findByTeacherId" parameterType="int" resultMap="subjectMap">
      SELECT
      <include refid="subjectColum"/>
      from
        tb_teacher t,
        tb_subject sub
      where t.t_id=#{id}
      and t.t_id=sub.teacher_id
    </select>

    <select id="findById" parameterType="int" resultMap="subjectMap">
        SELECT sub_id,sub_miaoshu,startlivetime ,sub_time FROM tb_subject WHERE sub_id = #{sub_id}
    </select>


</mapper>